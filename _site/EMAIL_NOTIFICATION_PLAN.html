<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Email Notification System Implementation Plan </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Email Notification System Implementation Plan ">
    
    
      <link rel="shortcut icon" href="favicon.ico">
      <link rel="stylesheet" href="styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="styles/docfx.css">
      <link rel="stylesheet" href="styles/main.css">
      <meta property="docfx:navrel" content="toc.html">
      <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="index.html">
                <img id="logo" class="svg" src="logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="email-notification-system-implementation-plan">Email Notification System Implementation Plan</h1>

<h2 id="-proje-hedefi">ğŸ“‹ Proje Hedefi</h2>
<p>Zimmet teslim tarihi yaklaÅŸan kullanÄ±cÄ±lara otomatik email bildirimleri gÃ¶nderen bir sistem geliÅŸtirmek.</p>
<h2 id="-sistem-mimarisi">ğŸ—ï¸ Sistem Mimarisi</h2>
<h3 id="bileÅŸenler">BileÅŸenler:</h3>
<ol>
<li><strong>Email Service</strong> - SMTP ile email gÃ¶nderimi</li>
<li><strong>Notification Service</strong> - Ä°ÅŸ kurallarÄ± ve bildirim mantÄ±ÄŸÄ±</li>
<li><strong>Background Job</strong> - Otomatik gÃ¶rev Ã§alÄ±ÅŸtÄ±rma</li>
<li><strong>SQL Server Job</strong> - ZamanlanmÄ±ÅŸ gÃ¶rev yÃ¼rÃ¼tme</li>
<li><strong>Template Engine</strong> - Email ÅŸablonlarÄ±</li>
</ol>
<h2 id="-gereksinimler">ğŸ¯ Gereksinimler</h2>
<h3 id="fonksiyonel-gereksinimler">Fonksiyonel Gereksinimler:</h3>
<ul>
<li>[ ] Teslim tarihi 3 gÃ¼n kala uyarÄ± maili gÃ¶nderme</li>
<li>[ ] Teslim tarihi geÃ§en laptoplar iÃ§in gecikme maili</li>
<li>[ ] Ã‡oklu uyarÄ± seviyesi (7 gÃ¼n, 3 gÃ¼n, 1 gÃ¼n, gecikme)</li>
<li>[ ] HTML email template'leri</li>
<li>[ ] Email gÃ¶nderim loglarÄ±</li>
<li>[+] SMTP ayarlarÄ± yapÄ±landÄ±rma</li>
</ul>
<h3 id="teknik-gereksinimler">Teknik Gereksinimler:</h3>
<ul>
<li>[+] .NET 8.0 MailKit/SmtpClient kullanÄ±mÄ±</li>
<li>[+] SQL Server Agent Job oluÅŸturma</li>
<li>[+] Configuration-based SMTP settings</li>
<li>[+] Error handling ve retry mechanism</li>
<li>[+] Logging ve monitoring</li>
</ul>
<h2 id="-detaylÄ±-Ä°mplementasyon-planÄ±">ğŸ“ DetaylÄ± Ä°mplementasyon PlanÄ±</h2>
<h3 id="phase-1-email-infrastructure-adÄ±m-1-3">Phase 1: Email Infrastructure (AdÄ±m 1-3)</h3>
<h4 id="adÄ±m-1-email-models-ve-configuration">AdÄ±m 1: Email Models ve Configuration</h4>
<ul>
<li>[+] Email configuration model oluÅŸturma</li>
<li>[+] SMTP settings appsettings.json'a ekleme</li>
<li>[+] Email template modelleri oluÅŸturma</li>
</ul>
<h4 id="adÄ±m-2-email-service-implementation">AdÄ±m 2: Email Service Implementation</h4>
<ul>
<li>[+] IEmailService interface oluÅŸturma</li>
<li>[+] EmailService class implementasyonu</li>
<li>[+] SMTP client configuration</li>
<li>[+] HTML email template support</li>
</ul>
<h4 id="adÄ±m-3-email-templates">AdÄ±m 3: Email Templates</h4>
<ul>
<li>[ ] UyarÄ± email template'i</li>
<li>[ ] Gecikme email template'i</li>
<li>[+] Template engine (Razor/Liquid) entegrasyonu</li>
</ul>
<h3 id="phase-2-notification-logic-adÄ±m-4-6">Phase 2: Notification Logic (AdÄ±m 4-6)</h3>
<h4 id="adÄ±m-4-notification-service">AdÄ±m 4: Notification Service</h4>
<ul>
<li>[ ] INotificationService interface</li>
<li>[ ] NotificationService implementation</li>
<li>[ ] Ä°ÅŸ kurallarÄ±: hangi durumlarda mail gÃ¶nderileceÄŸi</li>
<li>[ ] Assignment due date calculations</li>
</ul>
<h4 id="adÄ±m-5-database-enhancements">AdÄ±m 5: Database Enhancements</h4>
<ul>
<li>[ ] Email log tablosu oluÅŸturma</li>
<li>[ ] Notification settings tablosu</li>
<li>[ ] Assignment tablosuna notification fields ekleme</li>
</ul>
<h4 id="adÄ±m-6-background-job-service">AdÄ±m 6: Background Job Service</h4>
<ul>
<li>[ ] IBackgroundJobService interface</li>
<li>[ ] Console application veya hosted service</li>
<li>[ ] SQL Server job'dan Ã§aÄŸrÄ±labilir endpoint</li>
</ul>
<h3 id="phase-3-sql-server-integration-adÄ±m-7-9">Phase 3: SQL Server Integration (AdÄ±m 7-9)</h3>
<h4 id="adÄ±m-7-sql-server-job-creation">AdÄ±m 7: SQL Server Job Creation</h4>
<ul>
<li>[ ] SQL Server Agent job oluÅŸturma</li>
<li>[ ] Scheduled execution (gÃ¼nlÃ¼k, haftalÄ±k)</li>
<li>[ ] Job parameters ve configuration</li>
</ul>
<h4 id="adÄ±m-8-error-handling--logging">AdÄ±m 8: Error Handling &amp; Logging</h4>
<ul>
<li>[ ] Comprehensive error handling</li>
<li>[ ] Email sending failure retry logic</li>
<li>[ ] Detailed logging (Serilog integration)</li>
<li>[ ] Job execution monitoring</li>
</ul>
<h4 id="adÄ±m-9-testing--validation">AdÄ±m 9: Testing &amp; Validation</h4>
<ul>
<li>[ ] Unit tests for email service</li>
<li>[ ] Integration tests</li>
<li>[ ] Manual testing with test emails</li>
<li>[ ] Performance testing</li>
</ul>
<h3 id="phase-4-advanced-features-adÄ±m-10-12">Phase 4: Advanced Features (AdÄ±m 10-12)</h3>
<h4 id="adÄ±m-10-advanced-notifications">AdÄ±m 10: Advanced Notifications</h4>
<ul>
<li>[ ] Multiple notification levels</li>
<li>[ ] User preferences (email frequency)</li>
<li>[ ] Manager notifications</li>
<li>[ ] Bulk assignment notifications</li>
</ul>
<h4 id="adÄ±m-11-monitoring--analytics">AdÄ±m 11: Monitoring &amp; Analytics</h4>
<ul>
<li>[ ] Email delivery tracking</li>
<li>[ ] Open rate tracking (optional)</li>
<li>[ ] Notification effectiveness metrics</li>
<li>[ ] Dashboard for email statistics</li>
</ul>
<h4 id="adÄ±m-12-security--compliance">AdÄ±m 12: Security &amp; Compliance</h4>
<ul>
<li>[ ] SMTP authentication security</li>
<li>[ ] Email content sanitization</li>
<li>[ ] GDPR compliance considerations</li>
<li>[ ] Opt-out mechanisms</li>
</ul>
<h2 id="-dosya-yapÄ±sÄ±-ekleme-planÄ±">ğŸ—‚ï¸ Dosya YapÄ±sÄ± (Ekleme PlanÄ±)</h2>
<pre><code>ITAssetManagement.Web/
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ Email/
â”‚   â”‚   â”œâ”€â”€ EmailConfiguration.cs
â”‚   â”‚   â”œâ”€â”€ EmailTemplate.cs
â”‚   â”‚   â”œâ”€â”€ EmailLog.cs
â”‚   â”‚   â””â”€â”€ NotificationSettings.cs
â”‚   â””â”€â”€ Notifications/
â”‚       â”œâ”€â”€ NotificationRequest.cs
â”‚       â””â”€â”€ NotificationResult.cs
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ Interfaces/
â”‚   â”‚   â”œâ”€â”€ IEmailService.cs
â”‚   â”‚   â”œâ”€â”€ INotificationService.cs
â”‚   â”‚   â””â”€â”€ IBackgroundJobService.cs
â”‚   â”œâ”€â”€ EmailService.cs
â”‚   â”œâ”€â”€ NotificationService.cs
â”‚   â””â”€â”€ BackgroundJobService.cs
â”œâ”€â”€ Templates/
â”‚   â”œâ”€â”€ Email/
â”‚   â”‚   â”œâ”€â”€ AssignmentDueWarning.html
â”‚   â”‚   â”œâ”€â”€ AssignmentOverdue.html
â”‚   â”‚   â””â”€â”€ AssignmentReminder.html
â”œâ”€â”€ Jobs/
â”‚   â””â”€â”€ NotificationJob.cs (Console App veya Hosted Service)
â””â”€â”€ Scripts/
    â””â”€â”€ SQL/
        â”œâ”€â”€ CreateEmailLogTable.sql
        â”œâ”€â”€ CreateNotificationSettingsTable.sql
        â””â”€â”€ CreateSQLServerJob.sql
</code></pre>
<h2 id="-configuration-Ã¶rneÄŸi">âš™ï¸ Configuration Ã–rneÄŸi</h2>
<pre><code class="lang-json">{
  &quot;EmailSettings&quot;: {
    &quot;SmtpHost&quot;: &quot;smtp.company.com&quot;,
    &quot;SmtpPort&quot;: 587,
    &quot;SmtpUsername&quot;: &quot;noreply@company.com&quot;,
    &quot;SmtpPassword&quot;: &quot;password&quot;,
    &quot;EnableSsl&quot;: true,
    &quot;FromEmail&quot;: &quot;noreply@company.com&quot;,
    &quot;FromName&quot;: &quot;IT Asset Management System&quot;
  },
  &quot;NotificationSettings&quot;: {
    &quot;WarningDaysBefore&quot;: [7, 3, 1],
    &quot;CheckFrequencyHours&quot;: 24,
    &quot;EnableNotifications&quot;: true,
    &quot;MaxRetryAttempts&quot;: 3
  }
}
</code></pre>
<h2 id="-Ä°ÅŸ-akÄ±ÅŸÄ±">ğŸ”„ Ä°ÅŸ AkÄ±ÅŸÄ±</h2>
<ol>
<li><strong>SQL Server Job</strong> gÃ¼nlÃ¼k Ã§alÄ±ÅŸÄ±r</li>
<li><strong>Background Service</strong> tetiklenir</li>
<li><strong>Notification Service</strong> assignment'larÄ± kontrol eder</li>
<li>Kriterlere uyan kayÄ±tlar iÃ§in <strong>Email Service</strong> devreye girer</li>
<li><strong>SMTP</strong> ile email gÃ¶nderimi</li>
<li><strong>Email Log</strong> kaydÄ± oluÅŸturulur</li>
<li><strong>Error handling</strong> ve retry logic</li>
</ol>
<h2 id="-bildirim-kriterleri">ğŸ“Š Bildirim Kriterleri</h2>
<h3 id="uyarÄ±-seviyeleri">UyarÄ± Seviyeleri:</h3>
<ul>
<li><strong>7 GÃ¼n Ã–ncesi</strong>: Ä°lk uyarÄ±</li>
<li><strong>3 GÃ¼n Ã–ncesi</strong>: Ä°kinci uyarÄ±</li>
<li><strong>1 GÃ¼n Ã–ncesi</strong>: Son uyarÄ±</li>
<li><strong>Gecikme</strong>: Teslim tarihi geÃ§enler iÃ§in</li>
</ul>
<h3 id="email-Ä°Ã§eriÄŸi">Email Ä°Ã§eriÄŸi:</h3>
<ul>
<li>KullanÄ±cÄ± adÄ± ve iletiÅŸim bilgileri</li>
<li>Laptop detaylarÄ± (marka, model, tag no)</li>
<li>Teslim tarihi</li>
<li>Kalan gÃ¼n sayÄ±sÄ±</li>
<li>Ä°letiÅŸim bilgileri (IT departmanÄ±)</li>
</ul>
<h2 id="-uygulama-sÄ±rasÄ±">ğŸš€ Uygulama SÄ±rasÄ±</h2>
<ol>
<li><strong>Haftaici 1</strong>: Phase 1 (Email Infrastructure)</li>
<li><strong>Haftaici 2</strong>: Phase 2 (Notification Logic)</li>
<li><strong>Haftaici 3</strong>: Phase 3 (SQL Server Integration)</li>
<li><strong>Haftaici 4</strong>: Phase 4 (Advanced Features)</li>
</ol>
<h2 id="-baÅŸlangÄ±Ã§-adÄ±mlarÄ±-Ä°lk-3-adÄ±m">ğŸ¯ BaÅŸlangÄ±Ã§ AdÄ±mlarÄ± (Ä°lk 3 AdÄ±m)</h2>
<h3 id="adÄ±m-1-email-configuration-ve-models">AdÄ±m 1: Email Configuration ve Models</h3>
<ul>
<li>EmailConfiguration.cs model oluÅŸturma</li>
<li>appsettings.json'a SMTP ayarlarÄ± ekleme</li>
<li>EmailLog.cs model oluÅŸturma</li>
</ul>
<h3 id="adÄ±m-2-iemailservice-interface-ve-basic-implementation">AdÄ±m 2: IEmailService Interface ve Basic Implementation</h3>
<ul>
<li>Interface tanÄ±mlama</li>
<li>Basic SMTP client implementation</li>
<li>DI container'a service ekleme</li>
</ul>
<h3 id="adÄ±m-3-Ä°lk-email-template">AdÄ±m 3: Ä°lk Email Template</h3>
<ul>
<li>Simple HTML template oluÅŸturma</li>
<li>Template test endpoint oluÅŸturma</li>
<li>Manual email sending test</li>
</ul>
<p>Bu planla baÅŸlayÄ±p adÄ±m adÄ±m ilerleyebiliriz. Hangi adÄ±mdan baÅŸlamak istiyorsunuz?</p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/SametAnaz/ITAssetManagement/blob/master/EMAIL_NOTIFICATION_PLAN.md/#L1" class="contribution-link">Edit this page</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="styles/docfx.js"></script>
    <script type="text/javascript" src="styles/main.js"></script>
  </body>
</html>
